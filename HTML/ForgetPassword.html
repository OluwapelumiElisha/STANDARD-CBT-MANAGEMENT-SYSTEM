<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forgetten Password</title>
    <link rel="stylesheet" href="../CSS/ForgetPassword.css">
</head>
<body>
    <section>
    <h1>CBT SYSTEM</h1>
    <div class="box">
        <img src="../Images/logo 1.png" alt="">
        <div class="input">
            <form name="forget">
            <label for="f">Email:</label> <br>
            <input type="email" placeholder="elishaoluwapelumi38@gmail.com" name="email"> <br> <br>
            <button type="submit">Reset Password</button>
            </form> <br>
            <hr>
        </div>
        <div class="btn">
            <button id="Gohome">Login</button> <br> <br> <br>
            <!-- <button>Register</button><br> <br> <br> -->
        </div>
    </div> 
</section>
</body>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAuth, sendPasswordResetEmail} from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js'

        const firebaseConfig = {
        apiKey: "AIzaSyBJNezM9yQ_8ZKiCSGxTTpauRt2JQwQgD0",
        authDomain: "fir-learning-e9fb5.firebaseapp.com",
        projectId: "fir-learning-e9fb5",
        storageBucket: "fir-learning-e9fb5.appspot.com",
        messagingSenderId: "281493996672",
        appId: "1:281493996672:web:be8d2d578674c32883d265",
        measurementId: "G-R04WBRQ9ZW"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        async function forgethandle(e) {
            e.preventDefault();
            const emailAddress = forget.email.value 
            console.log(emailAddress);
            sendPasswordResetEmail(auth, emailAddress)
            .then(function () {
                console.log('password reset email sent successfully');
            })
            .catch(function (error) {
                let errorCode = error.code;
                let errorMessage = errormessage;
                console.log(errorMessage);
            })
        }

        forget.addEventListener('submit',forgethandle)
        function home() {
            window.location.href = '../Landing.html'
        }
        Gohome.addEventListener('click', home)
    </script>
</html>